{"version":3,"file":"1-timer-5d9f59aa.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n\nlet userSelectedDate = null; // Оголошуємо змінну для збереження обраної дати\nlet timerInterval = null; // Зберігає ідентифікатор інтервалу для таймера\n\nconst refs = {\n  input: document.querySelector('#datetime-picker'),\n  startBtn: document.querySelector('body > button'),\n  timerDisplay: document.querySelector('.timer'),\n};\n\nrefs.startBtn.addEventListener('click', startTimer);\n\nrefs.startBtn.disabled = false; // Кнопка активна\n\nflatpickr(refs.input, {\n  enableTime: true,\n  time_24hr: true,\n\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0]; // Зберігаємо обрану дату у змінну\n\n    const now = new Date(); // Поточна дата\n    if (userSelectedDate < now) {\n      // Перевіряємо, чи обрана дата в минулому\n      window.alert('Please choose a date in the future'); // Показуємо повідомлення\n      refs.startBtn.disabled = true; // Робимо кнопку неактивною\n    } else {\n      refs.startBtn.disabled = false; // Якщо дата в майбутньому, кнопка активна\n    }\n  },\n});\n\nfunction startTimer() {\n  if (!userSelectedDate) return; // Якщо користувач не обрав дату, не починати таймер\n\n  const now = new Date().getTime(); // Отримуємо поточну дату та час\n\n  const targetDate = userSelectedDate.getTime(); // Отримуємо вказану користувачем дату та час\n\n  let remainingTime = targetDate - now;\n\n  if (timerInterval) clearInterval(timerInterval); // Якщо таймер вже запущено, зупиняємо його\n\n  timerInterval = setInterval(() => {\n    // Оновлюємо інтерфейс таймера кожну секунду\n    refs.input.disabled = true;\n    refs.startBtn.disabled = true;\n    remainingTime -= 1000;\n\n    if (remainingTime <= 0) {\n      // Перевіряємо, чи таймер дійшов до кінцевої дати\n      clearInterval(timerInterval); // Зупиняємо таймер\n      refs.timerDisplay.textContent = '00:00:00:00';\n      refs.input.disabled = false;\n      refs.startBtn.disabled = false;\n      return;\n    }\n\n    const days = Math.floor(remainingTime / (1000 * 60 * 60 * 24));\n    const hours = Math.floor(\n      (remainingTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n    );\n    const minutes = Math.floor(\n      (remainingTime % (1000 * 60 * 60)) / (1000 * 60)\n    );\n    const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);\n\n    // Форматуємо та відображаємо час у форматі xx:xx:xx:xx\n    refs.timerDisplay.textContent = `${formatTime(days)}:${formatTime(\n      hours\n    )}:${formatTime(minutes)}:${formatTime(seconds)}`;\n  }, 1000);\n}\nfunction formatTime(time) {\n  return time < 10 ? `0${time}` : time;\n}\n"],"names":["userSelectedDate","timerInterval","refs","startTimer","flatpickr","selectedDates","now","remainingTime","days","hours","minutes","seconds","formatTime","time"],"mappings":"yCAKA,IAAIA,EAAmB,KACnBC,EAAgB,KAEpB,MAAMC,EAAO,CACX,MAAO,SAAS,cAAc,kBAAkB,EAChD,SAAU,SAAS,cAAc,eAAe,EAChD,aAAc,SAAS,cAAc,QAAQ,CAC/C,EAEAA,EAAK,SAAS,iBAAiB,QAASC,CAAU,EAElDD,EAAK,SAAS,SAAW,GAEzBE,EAAUF,EAAK,MAAO,CACpB,WAAY,GACZ,UAAW,GAEX,gBAAiB,EACjB,QAAQG,EAAe,CACrBL,EAAmBK,EAAc,CAAC,EAG9BL,EADQ,IAAI,MAGd,OAAO,MAAM,oCAAoC,EACjDE,EAAK,SAAS,SAAW,IAEzBA,EAAK,SAAS,SAAW,EAE5B,CACH,CAAC,EAED,SAASC,GAAa,CACpB,GAAI,CAACH,EAAkB,OAEvB,MAAMM,EAAM,IAAI,KAAM,EAAC,QAAO,EAI9B,IAAIC,EAFeP,EAAiB,UAEHM,EAE7BL,GAAe,cAAcA,CAAa,EAE9CA,EAAgB,YAAY,IAAM,CAMhC,GAJAC,EAAK,MAAM,SAAW,GACtBA,EAAK,SAAS,SAAW,GACzBK,GAAiB,IAEbA,GAAiB,EAAG,CAEtB,cAAcN,CAAa,EAC3BC,EAAK,aAAa,YAAc,cAChCA,EAAK,MAAM,SAAW,GACtBA,EAAK,SAAS,SAAW,GACzB,MACD,CAED,MAAMM,EAAO,KAAK,MAAMD,GAAiB,IAAO,GAAK,GAAK,GAAG,EACvDE,EAAQ,KAAK,MAChBF,GAAiB,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAC7D,EACUG,EAAU,KAAK,MAClBH,GAAiB,IAAO,GAAK,KAAQ,IAAO,GACnD,EACUI,EAAU,KAAK,MAAOJ,GAAiB,IAAO,IAAO,GAAI,EAG/DL,EAAK,aAAa,YAAc,GAAGU,EAAWJ,CAAI,CAAC,IAAII,EACrDH,CACN,CAAK,IAAIG,EAAWF,CAAO,CAAC,IAAIE,EAAWD,CAAO,CAAC,EAChD,EAAE,GAAI,CACT,CACA,SAASC,EAAWC,EAAM,CACxB,OAAOA,EAAO,GAAK,IAAIA,CAAI,GAAKA,CAClC"}